CREATE table Perfiles
(
id_perfil INT IDENTITY (1,1) not null,
n_perfil varchar(20) not null,
CONSTRAINT PK_Perfiles PRIMARY KEY CLUSTERED (id_perfil ASC) with (
PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF

GO
SET IDENTITY_INSERT Perfiles ON
INSERT Perfiles (id_perfil, n_perfil) values (1,'Administrador')
INSERT Perfiles (id_perfil, n_perfil) values (2,'Medico')
INSERT Perfiles (id_perfil, n_perfil) values (3,'Secretaria')
SET IDENTITY_INSERT Perfiles OFF
GO


CREATE table Users
(
id INT IDENTITY,
Usuario nchar(15) not null,
Password nchar(10) not null,
id_perfil int not null,
Estado varchar(1) not null,
)
GO

insert into Users (Usuario, Password, id_perfil, Estado) values ('Ali', '123abc', 1, 'S')
insert into Users (Usuario, Password, id_perfil, Estado) values ('Fran', 'charrua', 3, 'S')
insert into Users (Usuario, Password, id_perfil, Estado) values ('Nahuel', 'Chuchas', 2, 'S')
insert into Users (Usuario, Password, id_perfil, Estado) values ('ADMIN', '12345', 1, 'N')
insert into Users (Usuario, Password, id_perfil, Estado) values ('Dr.Pie', 'ibuprofeno', 2, 'N')
insert into Users (Usuario, Password, id_perfil, Estado) values ('Medico1', 'uno2tres', 2, 'S')
GO

CREATE table Historias_Clinicas
(
cod INT,
Nombre nchar(10) not null,
Apellido nchar(15) not null,
dni INT not null
)
GO

CREATE table Atenciones_Medicas
(
id INT IDENTITY,
Historia_Clinica int,
Motivo_Consulta text not null,
Revision text,
Diagnostico text not null,
Plan_Terapeutico text,
Observaciones text,
Fecha date,

)
GO

CREATE table Medicos
(
id INT IDENTITY,
Nombre nchar(15) not null,
Apellido nchar(15) not null,
Fecha_Ingreso date not null,
Estado varchar(1) not null
)
GO
CREATE table Pacientes
(
n_HistoriaClinica INT IDENTITY (0001,1),
Nombre nchar(15) not null,
Apellido nchar(15) not null,
dni bigint not null,
Fecha_Nacimiento date not null,
Obra_Social varchar(20),
n_Afiliado int,
Domicilio text,
Telefono int,
Estado varchar(1) not null
)
GO
